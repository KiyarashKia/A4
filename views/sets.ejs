<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lego Sets</title>
    <link rel="stylesheet" href="/css/main.css"/>
</head>
<body>
    <%- include('partials/navbar', {page: `/sets${currentTheme ? ('/' + currentTheme) : ''}`}) %>

    <section class="shadow-lg bg-primary-gray-custom text-black mx-auto rounded-lg flex flex-col items-center justify-center" style="background-image: url('/media/Lego hero.jpg'); background-size: 100%; background-repeat: no-repeat; background-position: right 80%; max-width: 90%; width: 80%; height: 400px; margin-bottom: 20px; margin-top: 20px;">
        <div class="container mx-auto flex items-center justify-center flex-col relative top-6">
            <h1 class="text-4xl font-bold mb-4">Collection</h1>
            <p>Browse the entire collection</p>
            <p>Click the theme to filter by themes such as: </p><br>
        </div>
    </section>

    <div class="container mx-auto p-4">
        <div class="flex flex-wrap -mx-2">
            <% theThemes.forEach(theme => { %>
                <div class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 px-2 mb-4">
                    <div class="rounded shadow-lg bg-white p-3">
                        <a class="btn btn-secondary btn-xs <%= (currentTheme === theme) ? 'cursor-not-allowed opacity-75 pointer-events-none' : '' %>" href="/lego/sets?theme=<%= encodeURIComponent(theme) %>"><%= theme %></a>                    </div>
                </div>
            <% }); %>
        </div>
        
        <div class="mt-8">
            <% legoSets.forEach(set => { %>
                <div class="rounded shadow-lg bg-white p-3 mb-4">
                    <div class="flex items-center">
                        <img class="w-20 h-20 mr-4" src="<%= set.img_url %>" alt="<%= set.name %>" onerror="this.src='/image/Image_not_available.png';">
                        <div>
                            <h2 class="text-lg font-bold"><%= set.name %></h2>
                            <p>Set Number: <%= set.set_num %></p>
                            <p>Year: <%= set.year %></p>
                            <p>Number of Parts: <%= set.num_parts %></p>
                            <p>Theme: <%= set.theme %></p>
                            <a class="btn btn-ghost btn-xs" href="/lego/sets/<%= set.set_num %>">Details</a>
                        </div>
                    </div>
                </div>
            <% }); %>
        </div>
    </div>

    <script src="/ThemeChanger.js"></script>
</body>
</html>

